%This is a LaTeX template for homework assignments
\documentclass[8pt]{article}
\usepackage[top=1in, bottom=1in, left=1.1in, right=1.1in]{geometry}
\usepackage[utf8]{inputenc}
\usepackage{amsmath}
\usepackage{CJK}
\usepackage{enumerate}
\usepackage{ifthen}
\usepackage{listings}
\lstset{
  language=c,
  basicstyle=\ttfamily\footnotesize,
  commentstyle=\color{red},
  breakindent=0pt,
  rulesepcolor=\color{red!20!green!20!blue!20},
  rulecolor=\color{black},
  tabsize=4,
  numbersep=5pt,
  showstringspaces=false,
  breaklines=true,
  backgroundcolor=\color{red!10},
  showspaces=false,
  showtabs=false,
  extendedchars=false,
  escapeinside=``,
  frame=no,
}

\usepackage{fourier}
 

\newcommand{\tf}{\ttfamily}


\newlength{\la}
\newlength{\lb}
\newlength{\lc}
\newlength{\ld}
\newlength{\lhalf}
\newlength{\lquarter}
\newlength{\lmax}
\newcommand{\xx}[4]{\\[.5pt]%
\settowidth{\la}{A.~#1~~}
\settowidth{\lb}{B.~#2~~}
\settowidth{\lc}{C.~#3~~}
\settowidth{\ld}{D.~#4~~}
%%
\ifthenelse{\lengthtest{\la>\lb}}
{\setlength{\lmax}{\la}}
{\setlength{\lmax}{\lb}}
\ifthenelse{\lengthtest{\lmax<\lc}}
{\setlength{\lmax}{\lc}}
{}
\ifthenelse{\lengthtest{\lmax<\ld}}
{\setlength{\lmax}{\ld}}
{}
%%
\setlength{\lhalf}{0.5\linewidth}
\setlength{\lquarter}{0.25\linewidth}
%%
\ifthenelse{\lengthtest{\lmax>\lhalf}}
{\noindent{}A.~#1 \\ B.~#2 \\ C.~#3 \\ D.~#4 }
{
\ifthenelse{\lengthtest{\lmax>\lquarter}}
{\noindent
\makebox[\lhalf][l]{A.~#1~~}%
\makebox[\lhalf][l]{B.~#2~~}\\
\makebox[\lhalf][l]{C.~#3~~}%
\makebox[\lhalf][l]{D.~#4~~}
}%
{\noindent
\makebox[\lquarter][l]{A.~#1~~}%
\makebox[\lquarter][l]{B.~#2~~}%
\makebox[\lquarter][l]{C.~#3~~}%
\makebox[\lquarter][l]{D.~#4~~}
}
}
}



\begin{document}
\begin{CJK}{UTF8}{gkai}
\begin{center}
{\Large \bf  武汉大学数学与统计学院2015-2016学年第二学期期末考试\\[0.1in]C语言程序设计（B卷）} \vspace{0.1in}

姓名: \line(1,0){100} ~~~~~~ 学号: \line(1,0){100}

\end{center}

%% \section*{2015-2016学年武汉大学期末考试\\C语言程序设计}

%\subsection*{说明} %Enter instruction text here
%Answer {\bf all} the questions and return to the teacher by the end of the week. Section A questions shouldn't cause you any trouble. Section B is designed to be more challenging.

\subsection*{一、单选题（每题2分，共20分）}
\begin{enumerate}
\item 下面程序
\begin{lstlisting}
int main(void)
{
  int k = 11;
  printf("k=%d,k=%o,k=%x\n",k,k,k);
}
\end{lstlisting}
的输出是\line(1,0){20}。
\xx
{k=11,k=12,k=11}
{k=11,k=13,k=13}
{k=11,k=013,k=0xb}
{k=11,k=13,k=b}


\item 设int a = 12, 则执行完语句a+=a-=a*a;后，a的值为\line(1,0){20}。
\xx
{552}
{264} 
{144}
{-264}

\item 为表达关系$x\ge y \ge z$，应使用C表达式\line(1,0){20}。
\xx{(x >= y) \&\& (y >= z)}
{(x >= y) AND (y >= z) 300)}
{(x >= y >= z))}
{(x >= y) \& (y >= z) 300)}

\item 设d为double型变量，则逗号表达式\begin{lstlisting}
d=1, d+5, d++    
\end{lstlisting}的值是\line(1,0){20}。
\xx{1}
{6.0}
{2.0}
{1.0}

\item  以下程序段
\begin{lstlisting}
x = -1;
do {
  x = x*x;
} while (!x);
\end{lstlisting}
描述正确的是\line(1,0){20}。
\xx{是死循环}
{循环执行两次}
{循环执行一次}
{有语法错误}

\item 以下描述正确的是\line(1,0){20}。
\xx
{goto语句只能用于退出多层循环}
{switch语句中不能出现continue语句}
{只能用continue语句来终止本次循环}
{在循环中break语句不能独立出现}

\item 设x、y、z、t均为int型变量，则执行以下语句后，
\begin{lstlisting}
x = y = z = 1;
t = ++x || ++y && ++z;
\end{lstlisting}    
t的值为\line(1,0){20}。
\xx{不定值}
{4}
{1}
{0}

\item C语言中，凡未指定存储类别的局部变量的隐含存储类别是\line(1,0){20}。
\xx
{auto}
{static}
{extern}
{register}  


\item
若有说明int  a[3][4]={0};则下面正确的叙述是\line(1,0){20}。
\xx
{只有元素a[0][0]可得到初值0}
{此说明语句不正确}
{数组a中各元素都可得到初值，但其值不一定为0}
{数组a中每个元素均可得到初值0 }

\item
定义如下结构体数组
\begin{lstlisting}
struct {
  int num;
  char name[10];
} x[3] = {1,"China",2,"USA",3,"England"};
\end{lstlisting} 
语句
\begin{lstlisting}
printf("\n%d,%s",x[1].num,x[2].name);
\end{lstlisting} 
的输出结果是\line(1,0){20}。
\xx{2,USA}
{3,England}
{1,China}
{2,England}
\end{enumerate}

\subsection*{二、程序阅读题（30分）}
\begin{enumerate}
\item （6分）下列程序将打印出什么？
\begin{lstlisting}[showstringspaces=true]
#include <stdio.h>
#define TEN 10
int main(void)
{
 int n = 0;
 while (n++ < TEN) 
   printf("%5d", n);
 printf("\n");
 return 0;
}
\end{lstlisting}

\item （6分）下列程序将打印出什么？
\begin{lstlisting}[showstringspaces=true]
#include <stdio.h>
int main(void)
{
 int k;
 for (k = 1, printf("%d: Hi!\n"); 
      printf("k = %d\n", k), k*k < 26;
      k += 2, printf("Now k is %d", k))
     printf("k is %d in the loop\n", k); 
 return 0;
}
\end{lstlisting}

\item （8分）用适当的方法声明下面每个变量：
\begin{itemize}
\item[a.] digits: 一个包含10个int值的数组
\item[b.] rates: 一个包含6个float值的数组
\item[c.] mat: 一个包含3个元素的数组，其中每个元素是一个包含5个整数的数组
\item[d.] pstr: 一个指向数组的指针，其中数组由20个char值构成
\end{itemize}•

\item （5分）文件开始处做了如下声明：
\begin{lstlisting} 
static int plink;
int value_ct(const int arr[], int value, int n);
\end{lstlisting}    
\begin{itemize}
\item[a.] 这些声明表明了程序员的什么意图？
\item[b.] 用const int value和const int n代替int value和int n会增强对调用程序中值的保护吗？
\end{itemize}

\item （5分）你会用什么转换说明来打印下列各项内容？
\begin{itemize}
\item[a.] 一个字段宽度为6、最少有4位数字的十进制整数
\item[b.] 一个字段宽度在参数列表中给定的八进制整数
\item[c.] 一个字段宽度为2的字符
\item[d.] 一个形如+3.13、字段宽度等于数字中字符个数的浮点数
\item[e.] 一个字符串的前5个字符，字段宽度为7、左对齐
\end{itemize}   
\end{enumerate}


\subsection*{三、问答题（25分）}

\begin{enumerate}
\item （6分）简述while循环、do while循环与for循环的区别。

\item （6分）下面这个字符串的声明错在哪里？
\begin{lstlisting}
int main(void) 
{
  char name[] = {'F', 'i', 'n', 'e',};
  ...
}
\end{lstlisting}
\item （5分）看看下面这段程序有什么错误：
\begin{lstlisting}
void swap(int * p1, int * p2)
{
  int * p;
  *p = 4;
}
\end{lstlisting}
\item （8分）分别说明以下声明语句的含义
\begin{lstlisting}
(1) int (*uuf[3])[4];
(2) int (*oof)[3][4]; 
(3) char (* f1[3])();
(4) char * f2(int a, int b);
(5) typedef int arr5[5];
    typedef arr5 * p_arr5;
    p_arr5 p2;
\end{lstlisting}

\end{enumerate}


\subsection*{四、编程题（25分）}

\begin{enumerate}
\item （5分）编制程序，对于给定的一个百分制成绩，输出相应的5分制乘积。设：90分以上为'A'，80-89分为'B'，70-79分为'C'，60-69分为'D'，60分以下为'E'。（用switch语句实现）
 

\item （5分）从键盘输入两个整数，输出其最大公约数和最小公倍数。
 

\item （6分）输入任意5个数放在数组中，假如5个数为1、2、8、3、10，请打印以下方阵
$$
\left(
\begin{array}{rrrrr}
1&2&8&3&10\\
2&8&3&10&1\\
8&3&10&1&2\\
3&10&1&2&8\\
10&1&2&8&3\\
\end{array}
\right)
$$
 


\item （9分）求一个一维数组的最大值，最小值和平均值（主函数调用并输出）。
 
\end{enumerate}


\end{CJK}
\end{document}
